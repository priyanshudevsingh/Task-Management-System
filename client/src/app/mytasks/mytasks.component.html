<section class="tasktable">
  <div *ngIf="task">
    <!-- for sorting -->
    <div *ngIf="task.length" class="sort">
      <label for="sortOption" class="label">Sort By:</label>
      <select
        id="sortOption"
        class="select"
        [(ngModel)]="selectedSortOption"
        (change)="onSortBy($event)"
      >
        <option *ngFor="let option of sortOptions" [value]="option.value">
          {{ option.label }}
        </option>
      </select>
    </div>

    <!-- For downloading .csv file -->
    <a
      *ngIf="task.length"
      class="download-link"
      [href]="generateDownloadLink()"
      download="task_list.csv"
      >Download CSV</a
    >

    <!-- task list display -->
    <table class="content-table">
      <thead *ngIf="task.length">
        <tr>
          <th>Title</th>
          <th>Due Date</th>
          <th>Priority</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let i of task">
          <td>
            <a [routerLink]="['/viewtask', i.taskid]">{{ i.title }}</a>
          </td>
          <td>{{ i.duedate }}</td>
          <td [class]="i.priority">{{ i.priority }}</td>
          <td>{{ i.status }}</td>
        </tr>
      </tbody>
    </table>
    <p class="text1" *ngIf="!task.length">No Tasks Found</p>
  </div>
</section>
